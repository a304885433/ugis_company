(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab109"],{"144d":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-card",{attrs:{bordered:!1}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:8,sm:24}},[e("a-form-item",{attrs:{label:"企业名称"}},[e("a-select",{attrs:{placeholder:"请选择",allowClear:!0},on:{change:t.handleCompanyChange},model:{value:t.queryParam.companyId,callback:function(a){t.$set(t.queryParam,"companyId",a)},expression:"queryParam.companyId"}},t._l(t.companyArr,function(a){return e("a-select-option",{key:a.id,attrs:{value:a.id,chkPointId:a.chkPointIdList}},[t._v(t._s(a.name))])}),1)],1)],1),e("a-col",{attrs:{md:8,sm:24}},[e("a-form-item",{attrs:{label:"排查点位"}},[e("a-select",{attrs:{placeholder:"请选择",allowClear:!0,"default-value":"0"},model:{value:t.queryParam.chkPointId,callback:function(a){t.$set(t.queryParam,"chkPointId",a)},expression:"queryParam.chkPointId"}},t._l(t.chkPointArr,function(a){return e("a-select-option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))])}),1)],1)],1),t.advanced?[e("a-col",{attrs:{md:8,sm:24}},[e("a-form-item",{attrs:{label:"排查因子"}},[e("a-select",{attrs:{placeholder:"请选择",allowClear:!0,"default-value":"0"},model:{value:t.queryParam.poluTypeId,callback:function(a){t.$set(t.queryParam,"poluTypeId",a)},expression:"queryParam.poluTypeId"}},t._l(t.poluTypeArr,function(a){return e("a-select-option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))])}),1)],1)],1),e("a-col",{attrs:{md:8,sm:24}},[e("a-form-item",{attrs:{label:"排查日期"}},[e("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"}},[e("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD HH:mm:ss"},model:{value:t.queryParam.startChkDate,callback:function(a){t.$set(t.queryParam,"startChkDate",a)},expression:"queryParam.startChkDate"}})],1),e("span",{style:{display:"inline-block",width:"24px",textAlign:"center"}},[t._v("\n                -\n              ")]),e("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"}},[e("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD HH:mm:ss"},model:{value:t.queryParam.endChkDate,callback:function(a){t.$set(t.queryParam,"endChkDate",a)},expression:"queryParam.endChkDate"}})],1)],1)],1),e("a-col",{attrs:{md:8,sm:24}},[e("a-form-item",{attrs:{label:"浓度范围"}},[e("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"}},[e("a-input-number",{staticStyle:{width:"100%"},model:{value:t.queryParam.startConcentration,callback:function(a){t.$set(t.queryParam,"startConcentration",a)},expression:"queryParam.startConcentration"}})],1),e("span",{style:{display:"inline-block",width:"24px",textAlign:"center"}},[t._v("\n                -\n              ")]),e("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"}},[e("a-input-number",{staticStyle:{width:"100%"},model:{value:t.queryParam.endConcentration,callback:function(a){t.$set(t.queryParam,"endConcentration",a)},expression:"queryParam.endConcentration"}})],1)],1)],1),e("a-col",{attrs:{md:8,sm:24}},[e("a-form-item",{attrs:{label:"排查批次"}},[e("a-input",{model:{value:t.queryParam.chkBatch,callback:function(a){t.$set(t.queryParam,"chkBatch",a)},expression:"queryParam.chkBatch"}})],1)],1)]:t._e(),e("a-col",{attrs:{md:t.advanced?24:8,sm:24}},[e("span",{staticClass:"table-page-search-submitButtons",style:t.advanced&&{float:"right",overflow:"hidden"}||{}},[e("a-button",{attrs:{type:"primary"},on:{click:function(a){return t.$refs.table.refresh(!0)}}},[t._v("查询")]),e("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return t.queryParam={}}}},[t._v("重置")]),e("a",{staticStyle:{"margin-left":"8px"},on:{click:t.toggleAdvanced}},[t._v("\n              "+t._s(t.advanced?"收起":"展开")+"\n              "),e("a-icon",{attrs:{type:t.advanced?"up":"down"}})],1)],1)])],2)],1)],1),e("div",{staticClass:"table-operator"},[e("a-button",{directives:[{name:"action",rawName:"v-action:create",arg:"create"}],attrs:{type:"primary",icon:"plus"},on:{click:t.handleAdd}},[t._v("新建")])],1),e("s-table",{ref:"table",attrs:{size:"default",rowKey:"key",columns:t.columns,data:t.loadData},scopedSlots:t._u([{key:"serial",fn:function(a,n,r){return e("span",{},[t._v("\n      "+t._s(r+1)+"\n    ")])}},{key:"status",fn:function(a){return e("span",{},[e("a-badge",{attrs:{status:t._f("statusTypeFilter")(a),text:t._f("statusFilter")(a)}})],1)}}])})],1)},r=[],l=e("5176"),s=e.n(l),o=e("c1df"),i=e.n(o),c=e("2af9"),u=e("365c"),d={name:"CheckList",components:{STable:c["e"]},data:function(){var t=this;return{mdl:{},advanced:!1,queryParam:{chkPointId:null,poluTypeId:null,startChkDate:null,endChkDate:null,startConcentration:null,endConcentration:null,chkBatch:null},columns:[{title:"#",scopedSlots:{customRender:"serial"}},{title:"企业名称",dataIndex:"companyName"},{title:"点位",dataIndex:"chkPointName"},{title:"排查因子",dataIndex:"poluTypeName"},{title:"浓度",dataIndex:"concentration"},{title:"排查批次",dataIndex:"chkBatch"},{title:"排查时间",dataIndex:"chkDate",customRender:function(t){return i()(t).format("YYYY-MM-DD HH:mm:ss")}}],loadData:function(a){var e=s()(a,t.queryParam);return e.startChkDate&&(e.startChkDate=i()(e.startChkDate).format("YYYY-MM-DD HH:mm:ss")),e.endChkDate&&(e.endChkDate=i()(e.endChkDate).format("YYYY-MM-DD HH:mm:ss")),u["a"].GetCustomAll(e).then(function(t){return t.result})},selectedRowKeys:[],selectedRows:[],options:{alert:!1,rowSelection:null},poluTypeArr:[],companyArr:[],chkPointArr:[]}},filters:{statusFilter:function(t){return statusMap[t].text},statusTypeFilter:function(t){return statusMap[t].status}},created:function(){var t=this;u["b"].GetAllItem().then(function(a){t.companyArr=a.result})},methods:{handleCompanyChange:function(t,a){var e=a.data.attrs.chkPointId||"0";this.queryParam.poluTypeId=null,this.queryParam.chkPointId=null,this.getChkPoint(e),this.getPoluType(t)},handleAdd:function(t){this.$router.push({name:"CheckEdit",params:{companyArr:this.companyArr,chkPointArr:this.chkPointArr,poluTypeArr:this.chkPointArr}})},handleEdit:function(t){this.$refs.modal.edit(t)},handleOk:function(){this.$refs.table.refresh()},getChkPoint:function(t){var a=this;u["c"].GetAllItem({idList:t}).then(function(t){a.chkPointArr=t.result.filter(function(t){return"dianweixinxi"==t.typeCode})})},getPoluType:function(t){var a=this;u["b"].GetPoluType({id:t}).then(function(t){a.poluTypeArr=t.result})},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:i()(new Date)}}}},m=d,p=e("2877"),h=Object(p["a"])(m,n,r,!1,null,null,null);a["default"]=h.exports}}]);
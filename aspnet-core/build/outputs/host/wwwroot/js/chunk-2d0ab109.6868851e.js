(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab109"],{"144d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"企业名称"}},[a("a-select",{attrs:{placeholder:"请选择",allowClear:!0,"default-value":"0"},model:{value:t.queryParam.compnayId,callback:function(e){t.$set(t.queryParam,"compnayId",e)},expression:"queryParam.compnayId"}},t._l(t.companyArr,function(e){return a("a-select-option",{key:e.id,attrs:{value:e.name}},[t._v(t._s(e.name))])}),1)],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"排查点位"}},[a("a-select",{attrs:{placeholder:"请选择",allowClear:!0,"default-value":"0"},model:{value:t.queryParam.chkPointId,callback:function(e){t.$set(t.queryParam,"chkPointId",e)},expression:"queryParam.chkPointId"}},t._l(t.chkPointArr,function(e){return a("a-select-option",{key:e.id,attrs:{value:e.name}},[t._v(t._s(e.id))])}),1)],1)],1),t.advanced?[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"排查因子"}},[a("a-select",{attrs:{placeholder:"请选择",allowClear:!0,"default-value":"0"},model:{value:t.queryParam.poluTypeId,callback:function(e){t.$set(t.queryParam,"poluTypeId",e)},expression:"queryParam.poluTypeId"}},t._l(t.poluTypeArr,function(e){return a("a-select-option",{key:e.id,attrs:{value:e.name}},[t._v(t._s(e.id))])}),1)],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"排查日期"}},[a("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"}},[a("a-date-picker",{staticStyle:{width:"100%"},model:{value:t.queryParam.startChkDate,callback:function(e){t.$set(t.queryParam,"startChkDate",e)},expression:"queryParam.startChkDate"}})],1),a("span",{style:{display:"inline-block",width:"24px",textAlign:"center"}},[t._v("\n                -\n              ")]),a("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"}},[a("a-date-picker",{staticStyle:{width:"100%"},model:{value:t.queryParam.endChkDate,callback:function(e){t.$set(t.queryParam,"endChkDate",e)},expression:"queryParam.endChkDate"}})],1)],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"浓度范围"}},[a("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"}},[a("a-input-number",{staticStyle:{width:"100%"},model:{value:t.queryParam.startConcentration,callback:function(e){t.$set(t.queryParam,"startConcentration",e)},expression:"queryParam.startConcentration"}})],1),a("span",{style:{display:"inline-block",width:"24px",textAlign:"center"}},[t._v("\n                -\n              ")]),a("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"}},[a("a-input-number",{staticStyle:{width:"100%"},model:{value:t.queryParam.endConcentration,callback:function(e){t.$set(t.queryParam,"endConcentration",e)},expression:"queryParam.endConcentration"}})],1)],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"排查批次"}},[a("a-input",{model:{value:t.queryParam.chkBatch,callback:function(e){t.$set(t.queryParam,"chkBatch",e)},expression:"queryParam.chkBatch"}})],1)],1)]:t._e(),a("a-col",{attrs:{md:t.advanced?24:8,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:t.advanced&&{float:"right",overflow:"hidden"}||{}},[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.$refs.table.refresh(!0)}}},[t._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return t.queryParam={}}}},[t._v("重置")]),a("a",{staticStyle:{"margin-left":"8px"},on:{click:t.toggleAdvanced}},[t._v("\n              "+t._s(t.advanced?"收起":"展开")+"\n              "),a("a-icon",{attrs:{type:t.advanced?"up":"down"}})],1)],1)])],2)],1)],1),a("div",{staticClass:"table-operator"},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.handleAdd}},[t._v("新建")]),t.selectedRowKeys.length>0?a("a-dropdown",{directives:[{name:"action",rawName:"v-action:edit",arg:"edit"}]},[a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{key:"1"},[a("a-icon",{attrs:{type:"delete"}}),t._v("删除")],1),a("a-menu-item",{key:"2"},[a("a-icon",{attrs:{type:"lock"}}),t._v("锁定")],1)],1),a("a-button",{staticStyle:{"margin-left":"8px"}},[t._v("\n        批量操作\n        "),a("a-icon",{attrs:{type:"down"}})],1)],1):t._e()],1),a("s-table",{ref:"table",attrs:{size:"default",rowKey:"key",columns:t.columns,data:t.loadData},scopedSlots:t._u([{key:"serial",fn:function(e,n,r){return a("span",{},[t._v("\n      "+t._s(r+1)+"\n    ")])}},{key:"status",fn:function(e){return a("span",{},[a("a-badge",{attrs:{status:t._f("statusTypeFilter")(e),text:t._f("statusFilter")(e)}})],1)}},{key:"action",fn:function(e,n){return a("span",{},[[a("a",{on:{click:function(e){return t.handleEdit(n)}}},[t._v("配置")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(e){return t.handleSub(n)}}},[t._v("订阅报警")])]],2)}}])})],1)},r=[],l=a("5d73"),o=a.n(l),i=a("5176"),s=a.n(i),c=a("c1df"),d=a.n(c),u=a("2af9"),m=a("365c"),p={name:"CheckList",components:{STable:u["e"]},data:function(){var t=this;return{mdl:{},advanced:!1,queryParam:{},columns:[{title:"#",scopedSlots:{customRender:"serial"}},{title:"企业名称",dataIndex:"companyName"},{title:"点位",dataIndex:"chkPointName"},{title:"排查因子",dataIndex:"poluTypeName"},{title:"浓度",dataIndex:"concentration"},{title:"排查批次",dataIndex:"chkBatch"},{title:"排查时间",dataIndex:"chkDate"},{title:"操作",dataIndex:"action",width:"150px",scopedSlots:{customRender:"action"}}],loadData:function(e){return m["a"].GetAll(s()(e,t.queryParam)).then(function(e){var a=!0,n=!1,r=void 0;try{for(var l,i=o()(e.result.items);!(a=(l=i.next()).done);a=!0){var s=l.value;s.companyName=t.showContent(s.companyId,t.companyArr,"id","name"),s.poluTypeName=t.showContent(s.poluTypeId,t.poluTypeArr,"id","name"),s.chkPointName=t.showContent(s.chkPointId,t.chkPointArr,"id","name")}}catch(c){n=!0,r=c}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}return e.result})},selectedRowKeys:[],selectedRows:[],options:{alert:!1,rowSelection:null},poluTypeArr:[],companyArr:[],chkPointArr:[]}},filters:{statusFilter:function(t){return statusMap[t].text},statusTypeFilter:function(t){return statusMap[t].status}},created:function(){var t=this;m["b"].GetAllItem().then(function(e){t.companyArr=e.result}),m["c"].GetAllItem().then(function(e){t.chkPointArr=e.result.filter(function(t){return"yinzixinxi"==t.typeCode}),t.poluTypeArr=e.result.filter(function(t){return"dianweixinxi"==t.typeCode})})},methods:{handleAdd:function(t){this.$router.push({name:"CheckEdit",params:{companyArr:this.companyArr,chkPointArr:this.chkPointArr,poluTypeArr:this.chkPointArr}})},handleEdit:function(t){this.$refs.modal.edit(t)},handleOk:function(){this.$refs.table.refresh()},onSelectChange:function(t,e){this.selectedRowKeys=t,this.selectedRows=e},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:d()(new Date)}}}},y=p,h=a("2877"),f=Object(h["a"])(y,n,r,!1,null,null,null);e["default"]=f.exports}}]);
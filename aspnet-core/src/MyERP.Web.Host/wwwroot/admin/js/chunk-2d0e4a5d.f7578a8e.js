(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e4a5d"],{"90b2":function(e,r,a){"use strict";a.r(r);var t=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",[a("a-form",{staticClass:"form",attrs:{form:e.form,submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"用户名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["userName",{rules:[{required:!0,message:"请输入用户名",whitespace:!0}]}],expression:"['userName',\n                                {rules: [{ required: true, message: '请输入用户名', whitespace: true}]}\n                                          ]"}],attrs:{placeholder:"请输入用户名"}})],1),a("a-form-item",{attrs:{label:"姓名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入姓名",whitespace:!0}]}],expression:"['name',\n                                    {rules: [{ required: true, message: '请输入姓名', whitespace: true}]}\n                                              ]"}],attrs:{placeholder:"请输入姓名"}})],1),a("a-form-item",{attrs:{label:"电话"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phoneNumber",{rules:[{required:!0,message:"请输入电话",whitespace:!0}]}],expression:"['phoneNumber',\n                                        {rules: [{ required: true, message: '请输入电话', whitespace: true}]}\n                                                  ]"}],attrs:{placeholder:"请输入电话"}})],1),a("a-form-item",{attrs:{label:"邮箱"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["emailAddress",{rules:[{required:!0,type:"email",message:"请输入邮箱",whitespace:!0}]}],expression:"['emailAddress',\n                                            {rules: [{ required: true, type: 'email', message: '请输入邮箱', whitespace: true}]}\n                                                      ]"}],attrs:{placeholder:"请输入邮箱"}})],1),null==this.mdl?a("a-form-item",{attrs:{label:"密码"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码",whitespace:!0}]}],expression:"['password',\n                                                {rules: [{ required: true,  message: '请输入密码', whitespace: true}]}\n                                                          ]"}],attrs:{placeholder:"请输入密码",type:"password"}})],1):e._e(),a("a-form-item",{attrs:{label:"角色名称"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["roleName",{rules:[{required:!0,message:"请选择角色"}]}],expression:"[\n                'roleName',\n                {rules: [{ required: true, message: '请选择角色'}]}\n              ]"}],attrs:{placeholder:"请选择角色"}},e._l(e.roles,function(r){return a("a-select-option",{key:r.name,attrs:{value:r.name}},[e._v(e._s(r.displayName))])}),1)],1)],1),a("footer-tool-bar",{style:{width:e.isSideMenu()&&e.isDesktop()?"calc(100% - "+(e.sidebarOpened?256:80)+"px)":"100%"}},[a("a-button",{directives:[{name:"action",rawName:"v-action",value:["create","update"],expression:"['create','update']"}],staticStyle:{"margin-right":"10px"},attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v("提交")]),a("a-button",{attrs:{type:"default"},on:{click:function(r){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)},s=[],i=a("cebc"),o=a("5a70"),n=a("ac0d"),l=a("365c"),u={name:"UserEdit",mixins:[n["b"],n["c"]],components:{FooterToolBar:o["a"]},data:function(){return{errors:[],form:this.$form.createForm(this),loading:!1,mdl:null,roles:[]}},created:function(){this.getRoles(),this.getData()},methods:{getRoles:function(){var e=this;l["g"].GetRolesAsync().then(function(r){e.roles=r.result.items})},getData:function(){var e=this,r=this.$route.query.id;r?l["h"].Get({id:r}).then(function(r){r.result.roleName=r.result.roleNames&&r.result.roleNames[0],e.mdl=Object.assign({},r.result),e.form.setFieldsValue(Object(i["a"])({},r.result))}):this.mdl=null},handleSubmit:function(){var e=this;this.form.validateFields(function(r,a){if(!r)if(e.loading=!0,a.surname=a.userName,a.isActive=1,a.roleNames=[a.roleName],delete a.roleName,e.mdl){var t=Object.assign(e.mdl,a);l["h"].Update(t).then(function(){e.$router.go(-1)}).catch(function(r){var a=r.response.data;e.$message.error(a.error.message)}).finally(function(){e.loading=!1})}else l["h"].Create(a).then(function(){e.$router.go(-1)}).catch(function(r){var a=r.response.data;e.$message.error(a.error.message)}).finally(function(){e.loading=!1})})}}},m=u,c=a("2877"),d=Object(c["a"])(m,t,s,!1,null,null,null);r["default"]=d.exports}}]);
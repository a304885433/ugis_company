(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab109"],{"144d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"企业名称"}},[a("a-select",{attrs:{placeholder:"全部",allowClear:!0,showSearch:"",filterOption:t.filterSelect},on:{change:t.handleCompanyChange},model:{value:t.queryParam.companyId,callback:function(e){t.$set(t.queryParam,"companyId",e)},expression:"queryParam.companyId"}},t._l(t.companyArr,function(e){return a("a-select-option",{key:e.id,attrs:{value:e.id,chkPointId:e.chkPointIdList}},[t._v(t._s(e.name))])}),1)],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"排查点位"}},[a("a-select",{attrs:{placeholder:"全部",allowClear:!0,showSearch:"",filterOption:t.filterSelect,"default-value":"0"},model:{value:t.queryParam.chkPointId,callback:function(e){t.$set(t.queryParam,"chkPointId",e)},expression:"queryParam.chkPointId"}},t._l(t.chkPointArr,function(e){return a("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}),1)],1)],1),t.advanced?[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"排查因子"}},[a("a-select",{attrs:{placeholder:"全部",allowClear:!0,showSearch:"",filterOption:t.filterSelect,"default-value":"0"},model:{value:t.queryParam.poluTypeId,callback:function(e){t.$set(t.queryParam,"poluTypeId",e)},expression:"queryParam.poluTypeId"}},t._l(t.poluTypeArr,function(e){return a("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}),1)],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"排查日期"}},[a("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"},model:{value:t.queryParam.startChkDate,callback:function(e){t.$set(t.queryParam,"startChkDate",e)},expression:"queryParam.startChkDate"}})],1),a("span",{style:{display:"inline-block",width:"24px",textAlign:"center"}},[t._v("\n                -\n              ")]),a("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"},model:{value:t.queryParam.endChkDate,callback:function(e){t.$set(t.queryParam,"endChkDate",e)},expression:"queryParam.endChkDate"}})],1)],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"浓度范围"}},[a("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"}},[a("a-input-number",{staticStyle:{width:"100%"},model:{value:t.queryParam.startConcentration,callback:function(e){t.$set(t.queryParam,"startConcentration",e)},expression:"queryParam.startConcentration"}})],1),a("span",{style:{display:"inline-block",width:"24px",textAlign:"center"}},[t._v("\n                -\n              ")]),a("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"}},[a("a-input-number",{staticStyle:{width:"100%"},model:{value:t.queryParam.endConcentration,callback:function(e){t.$set(t.queryParam,"endConcentration",e)},expression:"queryParam.endConcentration"}})],1)],1)],1)]:t._e(),a("a-col",{attrs:{md:t.advanced?24:8,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:t.advanced&&{float:"right",overflow:"hidden"}||{}},[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.$refs.table.refresh(!0)}}},[t._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return t.queryParam={}}}},[t._v("重置")]),a("a",{staticStyle:{"margin-left":"8px"},on:{click:t.toggleAdvanced}},[t._v("\n              "+t._s(t.advanced?"收起":"展开")+"\n              "),a("a-icon",{attrs:{type:t.advanced?"up":"down"}})],1)],1)])],2)],1)],1),a("div",{staticClass:"table-operator"},[a("a-button",{directives:[{name:"action",rawName:"v-action:create",arg:"create"}],attrs:{type:"primary",icon:"plus"},on:{click:t.handleAdd}},[t._v("新建")])],1),a("s-table",{ref:"table",attrs:{size:"default",rowKey:t.newid,columns:t.columns,data:t.loadData},scopedSlots:t._u([{key:"serial",fn:function(e,n,r){return a("span",{},[t._v("\n      "+t._s(r+1)+"\n    ")])}}])})],1)},r=[],o=a("c1df"),l=a.n(o),i=a("2af9"),c=a("365c"),s={name:"CheckList",components:{STable:i["e"]},data:function(){var t=this;return{mdl:{},advanced:!0,queryParam:{companyId:void 0,chkPointId:void 0,poluTypeId:void 0,startChkDate:void 0,endChkDate:void 0,startConcentration:void 0,endConcentration:void 0,chkBatch:void 0},columns:[{title:"#",scopedSlots:{customRender:"serial"}},{title:"企业名称",dataIndex:"companyName"},{title:"点位",dataIndex:"chkPointName"},{title:"排查因子",dataIndex:"poluTypeName"},{title:"浓度",dataIndex:"concentration"},{title:"排查时间",dataIndex:"chkDate",customRender:function(t){return l()(t).format("YYYY-MM-DD")}}],loadData:function(e){var a=Object.assign(e,t.queryParam);return a.startChkDate&&(a.startChkDate=l()(a.startChkDate).format("YYYY-MM-DD 00:00:00")),a.endChkDate&&(a.endChkDate=l()(a.endChkDate).format("YYYY-MM-DD 23:59:59")),c["a"].GetCustomAll(a).then(function(t){return t.result})},selectedRowKeys:[],selectedRows:[],options:{alert:!1,rowSelection:null},poluTypeArr:[],companyArr:[],chkPointArr:[]}},created:function(){var t=this;c["c"].GetAllItem().then(function(e){t.companyArr=e.result})},methods:{handleCompanyChange:function(t,e){var a=e.data.attrs.chkPointId||"0";this.queryParam.poluTypeId=null,this.queryParam.chkPointId=null,this.getChkPoint(a),this.getPoluType(t)},handleAdd:function(t){this.$router.push({name:"CheckEdit",params:{companyArr:this.companyArr,chkPointArr:this.chkPointArr,poluTypeArr:this.chkPointArr}})},handleEdit:function(t){this.$refs.modal.edit(t)},handleOk:function(){this.$refs.table.refresh()},getChkPoint:function(t){var e=this;c["d"].GetAllItem({idList:t}).then(function(t){e.chkPointArr=t.result.filter(function(t){return"dianweixinxi"==t.typeCode})})},getPoluType:function(t){var e=this;c["c"].GetPoluType({id:t}).then(function(t){e.poluTypeArr=t.result})},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:l()(new Date)}}}},d=s,u=a("2877"),m=Object(u["a"])(d,n,r,!1,null,null,null);e["default"]=m.exports}}]);